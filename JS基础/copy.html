<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    //浅拷贝
    var objA = {
      a:'aa',
      b:'bb'
    };
    var objB = {}

    // 现在想把对象A的值复制给B，由于对象A的两个值都是原始类型，用浅复制即可
    function copy(sub,sup){
      for(var key in sup){
        sub[key] = sup[key]
      }
    }
    copy(objB,objA);

    //深拷贝
    function deepCopy(obj){
      var result;

      //引用数据类型分数组和对象分别递归
      if(Object.prototype.toString.call(obj) == '[object Array]'){
        result = []
        for(i = 0;i < obj.length;i++){
          result[i] = deepCopy(obj[i])
        }
      }else if(Object.prototype.toString.call(obj) == '[object object]'){
        result = {}
        for(var attr in obj){
          result[attr] = deepCopy(obj[attr])
        }
      }
      //值类型直接返回
      else {
        return obj
      }
      console(result)
      return result
    }
    //来测试深拷贝
    foo = function() {
      console.log('foo')
    }

    //有意思的是，下面这样foo是一个对象
    deepCopy(foo)

    //这样则会调用，打印出foo
    deepCopy(foo())

  </script>
</body>
</html>